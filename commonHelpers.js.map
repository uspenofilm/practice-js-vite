{"version":3,"file":"commonHelpers.js","sources":["../src/img/javascript.svg","../src/js/login.js"],"sourcesContent":["export default \"__VITE_ASSET__90c1298d__\"","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport icon from '../img/javascript.svg';\n\n// ЗАДАЧА 1\n// Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку Login на Logout і роби поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити Logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці Logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\nconst LOCAL_KEY = 'login-form';\nconst form = document.querySelector('.login-form');\nconst button = document.querySelector('.login-btn');\nconst emailEl = document.querySelector('input[name=\"email\"]');\nconst passwordEl = document.querySelector('input[name=\"password\"]');\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const { email, password } = event.target.elements;\n  const emailValue = email.value.trim();\n  const passwordValue = password.value.trim();\n  if (!emailValue || !passwordValue) {\n    iziToast.warning({\n      message: 'fill all fields',\n      iconUrl: icon,\n    });\n    return;\n  }\n  if (emailValue !== USER_DATA.email || passwordValue !== USER_DATA.password) {\n    iziToast.error({\n      message: 'uncorrect data',\n      iconUrl: icon,\n    });\n    return;\n  }\n  localStorage.setItem(\n    LOCAL_KEY,\n    JSON.stringify({ email: emailValue, password: passwordValue })\n  );\n  button.textContent = 'Logout';\n  email.setAttribute('readonly', true);\n  password.setAttribute('readonly', true);\n}\n\nconst saveData = localStorage.getItem(LOCAL_KEY);\nif (saveData) {\n  const parsedData = JSON.parse(saveData);\n  emailEl.value = parsedData.email || '';\n  passwordEl.value = parsedData.password || '';\n  button.textContent = 'Logout';\n  emailEl.setAttribute('readonly', true);\n  passwordEl.setAttribute('readonly', true);\n}\n"],"names":["icon","USER_DATA","LOCAL_KEY","form","button","emailEl","passwordEl","onFormSubmit","event","email","password","emailValue","passwordValue","iziToast","saveData","parsedData"],"mappings":"svBAAA,MAAeA,EAAA,mDCgBTC,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EACMC,EAAY,aACZC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAU,SAAS,cAAc,qBAAqB,EACtDC,EAAa,SAAS,cAAc,wBAAwB,EAClEH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,SAAAC,CAAQ,EAAKF,EAAM,OAAO,SACnCG,EAAaF,EAAM,MAAM,KAAI,EAC7BG,EAAgBF,EAAS,MAAM,KAAI,EACzC,GAAI,CAACC,GAAc,CAACC,EAAe,CACjCC,EAAS,QAAQ,CACf,QAAS,kBACT,QAASb,CACf,CAAK,EACD,MACD,CACD,GAAIW,IAAeV,EAAU,OAASW,IAAkBX,EAAU,SAAU,CAC1EY,EAAS,MAAM,CACb,QAAS,iBACT,QAASb,CACf,CAAK,EACD,MACD,CACD,aAAa,QACXE,EACA,KAAK,UAAU,CAAE,MAAOS,EAAY,SAAUC,EAAe,CACjE,EACER,EAAO,YAAc,SACrBK,EAAM,aAAa,WAAY,EAAI,EACnCC,EAAS,aAAa,WAAY,EAAI,CACxC,CAEA,MAAMI,EAAW,aAAa,QAAQZ,CAAS,EAC/C,GAAIY,EAAU,CACZ,MAAMC,EAAa,KAAK,MAAMD,CAAQ,EACtCT,EAAQ,MAAQU,EAAW,OAAS,GACpCT,EAAW,MAAQS,EAAW,UAAY,GAC1CX,EAAO,YAAc,SACrBC,EAAQ,aAAa,WAAY,EAAI,EACrCC,EAAW,aAAa,WAAY,EAAI,CAC1C"}